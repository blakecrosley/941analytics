{# Export button component #}
{# Usage: {% include "components/export_button.html" with export_type="pages" %} #}
<div class="analytics-export" x-data="{ open: false }" @click.outside="open = false">
    <button class="analytics-btn analytics-btn--small analytics-btn--secondary analytics-btn--icon"
            @click="open = !open"
            type="button"
            title="Export options">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
            <polyline points="7 10 12 15 17 10"/>
            <line x1="12" y1="15" x2="12" y2="3"/>
        </svg>
    </button>
    <div class="analytics-export__dropdown" x-show="open" x-transition @click.stop>
        {% if export_type %}
        <a href="./export/{{ export_type }}.csv?period={{ date_range_key }}{% if start_date %}&start={{ start_date }}{% endif %}{% if end_date %}&end={{ end_date }}{% endif %}"
           class="analytics-export__item"
           @click="open = false">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                <polyline points="14 2 14 8 20 8"/>
                <line x1="16" y1="13" x2="8" y2="13"/>
                <line x1="16" y1="17" x2="8" y2="17"/>
            </svg>
            Export as CSV
        </a>
        {% endif %}
        <a href="./export/report?period={{ date_range_key }}{% if start_date %}&start={{ start_date }}{% endif %}{% if end_date %}&end={{ end_date }}{% endif %}"
           class="analytics-export__item"
           target="_blank"
           @click="open = false">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                <polyline points="14 2 14 8 20 8"/>
            </svg>
            Print Report
        </a>
    </div>
</div>
